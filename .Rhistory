# EE232E Homework 4 Question 6
# clearing workspace
closeAllConnections()
rm(list=ls())
library('igraph')
library('readr')
############## Question 6 ##############
cat("\n \n ############## Question 6 ############## \n")
fname_ticker = "finance_data/Name_sector.csv"
ticker = read.csv(fname_ticker,stringsAsFactors = FALSE)
co_names = ticker$Symbol
r_i_mat = matrix(list(),length(co_names),2)
P.data <- data.frame(A = character(),
B = character(),
C = numeric(),
stringsAsFactors=FALSE)
colnames(P.data) = c("Node 1", "Node 2", "weights")
row_count = 0
i = co_names[1]
i
row_count = row_count + 1
cat("Processing processing" , row_count , "out of", length(co_names),"\n")
fname_co = paste('finance_data/data/',i,'.csv',sep = "") #get directory of current company name
co_data_close = read.csv(fname_co,stringsAsFactors = FALSE)$Close #get all closing data
temp =  read.csv(fname_co,stringsAsFactors = FALSE)
temp$Date[1]
date = temp$Date[1]
as.data(date)
as.Date(date)
date + 7
as.numeric(date)
date = temp$Date[1]
date
as.Date(date)+7
co_date = read.csv(fname_co,stringsAsFactors = FALSE)$Date
first_mon = as.Date("2014-5-5")
first_idx = which(first_mon == co_date)
first_idx
co_date[3]
a = "steven"
a = c(a,"leung")
a
weekdays(as.Date('2017-5-30','%y-%m-%d'))
weekdays(as.Date('2017-05-30','%y-%m-%d'))
weekdays(as.Date('16-08-2012','%d-%m-%Y'))
weekdays(as.Date('2014-05-05','%Y-%m-%d'))
test = weekdays(as.Date(co_date,'%Y-%m-%d'))
test
mondays_idx = weekdays(as.Date(co_date,'%Y-%m-%d'))
mondays_idx = weekdays(as.Date(co_date,'%Y-%m-%d'))
mondays_idx = which(weekdays(as.Date(co_date,'%Y-%m-%d')) == "Monday")
mondays_idx
View(ticker)
View(temp)
mondays_idx = which(weekdays(as.Date(co_date,'%Y-%m-%d')) == "Monday")
monday_data = co_data_close[mondays_idx]
monday_data
length(mondays_idx)
length(mondays_data)
length(monday_data)
source('C:/Users/Steven/Desktop/EE232E_Hw4/Q6.R')
source('C:/Users/Steven/Desktop/EE232E_Hw4/Q7.R')
